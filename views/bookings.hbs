<html>
    <head>
        <link rel="stylesheet" href="/stylesheets/bootstrap.css">
        <link rel="stylesheet" href="/stylesheets/style.css">   
    </head>
    
    <body>
        <form method="post" action="/users/enter">
        <h2 class="page-header">See other bookings</h2>
        <table id="bookingsTable" class="bookingsTable">
            <tr>
            <th>Theme</th>
            <th>Place</th> 
            <th>Date</th>
            <th>Hour</th>
            <th>Number of participants</th>
            <th>Details</th>
            <th style="display:none;">Place Latitude</th>
            <th style="display:none;">Place Longitude</th>
            </tr>
            
            {{#each debates}}
            <tr onclick="atRowHandler()">
                <td>{{this.theme}}</td>
                <td>{{this.placeName}}</td>
                <td>{{this.date}}</td>
                <td>{{this.time}}</td>
                <td>{{this.numberOfParticipants}}</td>
                <td><button type="submit" class="btn btn-default", id="detailsButton", onclick="atRowHandler">Enter</button></td>
                <td style="display:none;">{{this.placeLat}}</td>
                <td style="display:none;">{{this.placeLong}}</td>
                <td style="display:none;">{{this.id}}</td>
                <td style="display:none;">{{this.numberOfParticipants}}</td>
            </tr>
            {{/each}}
        </table>
        <input  style="display:none;", id='lat', name='lat'>
        <input  style="display:none;", id='long', name='long'>
        <input  style="display:none;", id='id', name='id'>
        <input  style="display:none;", id='numberOfParticipants', name='numberOfParticipants'>
            
    <script>
        function atRowHandler(){
        var rows = document.getElementsByTagName("tr");
        var button = document.getElementById('detailsButton');
        for (i = 1; i < rows.length; i++) {
            rows[i].onclick = function() {
                 document.getElementById('long').value = this.cells[7].innerHTML;
                document.getElementById('lat').value = this.cells[6].innerHTML;
                document.getElementById('id').value = this.cells[8].innerHTML;
                document.getElementById('numberOfParticipants').value = this.cells[9].innerHTML;
            };
        }
    }
        
        function buttonPress(){
            var button = document.getElementById('detailsButton');
            button.click();
        }
    </script>
        </form>
    </body>
</html>
